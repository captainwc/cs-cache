# 第五章 树与二叉树

## 5.1 树的概念与性质

**树：**有 n (n>=0) 个结点的有限集。n = 0 时是空树，n > 0 时满足：

​	（1）有且仅有一个特定的结点成为==根==

​	（2）n > 1 时，其余的结点可以分为 m 个互不相交的子集 $T_1, T_2, \dots, T_m$，每个集合本身都又是一棵树，称为		根的子树

​	==（树的定义是递归的）==

**树的特点：**除了根，其他都有且仅有一个前驱；所有结点可以有若干后继

**其他概念：**深度 & 高度、有序树 & 无序树、路径 & 路径长度

​	（==路径==：由高到低，不能回溯，不能平移的结点序列，==路径长度==：边的个数，最大 h-1）

### 树的性质

（1）结点总数 = 各个度的结点数之和 = 所有结点度数 + 1（根节点没有前驱，用度算的时候算不到他）

​	$n_0 + n_1 + n_2 +\dots+n_m = n_1 + 2n_2+3n_3+\dots+mn_m + 1$

（2）第 i 层上结点数为 $m^{i-1}$

（3）高度为 h 的 m 叉树，最多有 $1+m+m^2+\dots+m^{h-1} = \frac{m^{h-1}}{m-1}$ 个结点

（4）具有 n 个结点的 m 叉树，高度最小为 $\lceil{log_m(n(m-1)+1)}\rceil$



## 5.2 二叉树（BinaryTree）

**二叉树：**n 个结点的有限集合

​	（1）或者为空二叉树，即 n = 0

​	（2）或者由一个根节点，和两个互不相交的，被称为根的左子树和根的右子树组成。左右子树又分别是一棵二叉树

**其他概念：**满二叉树、完全二叉树、==二叉排序树（BST）==、==平衡二叉树（AVL）==、==平衡二叉排序树（BBST）==

### 二叉树的性质

（1）$n_0 = n_2 + 1$

（2）第 i 层有 $2^{i-1}$ 个结点，总结点数为 $2^h-1$

（3）对**完全二叉树**

​	① $n_1 \in\{0, 1\}$，度为 1 的结点，要么没有，要么只有一个，且他必定是只有左孩子

​	② i 结点的双亲为 $\lfloor{\frac{i}{2}}\rfloor$，i 的左孩子为 $2i$（<=n)， 右孩子为 $2i+1$（<=n）

​		（推导：结点 i 的左兄弟数，乘 2，即为 i 的左孩子的左兄弟数）

​	③ 最后一个叶子结点的双亲，即为最后一个分支结点，即 $\lfloor{\frac{n}{2}}\rfloor$，故 $ i \leq\lfloor{\frac{n}{2}}\rfloor$ 即为分支结点

​	④ 结点 i 所在高度为 $\lfloor{log_2i}\rfloor+1=\lceil{log_2(i+1)}\rceil$

​	⑤ n 个结点二叉树 $2^{h-1}-1<n\leq2^h-1$，故高度 h **=** $\lfloor{log_2n}\rfloor+1=\lceil{log_2(n+1)}\rceil$

​		（==普通二叉树高度 $h\in[\ \lfloor{log_2n}\rfloor+1, n\ ]$==）

​	⑥ $n = 2n_2+1+n_1$，故 n 为奇数，则没有度为 1 的结点；n 为偶数，即 $n_1=1$

### 二叉树的存储结构

（1）顺序存储

​	完全二叉树中排第 i 个结点，就放在数组 a[i] 中（注意==不要==从 0 号单元开始，不然不好算根的孩子在哪里），没有的结点填充 0

（2）链式存储

​	typedef struct BiNode{
   	Elemtype data;
   	struct BiNode *lchild, *rchild;	// 每个节点包含 data 和指向左右孩子的指针
​	}BiNode, *BiTree					  // BiTree

​	空指针个数 $num_空 = 2n_0+n_1 = n_1+n_0+(n_2+1) = n+1$，即==空指针个数比总结点数多一个==







